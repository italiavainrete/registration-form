{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport './styles.scss'\n\nexport type IRegistrationFormProps = {\n    sourceType: string,\n    sourceId: string\n}\n\nexport type IInputData = {\n    name: string,\n    value: string\n}\n\nexport type IFormData = {\n    firstname: string,\n    lastname: string,\n    email: string,\n    phone: string,\n    address: string,\n    city: string,\n    privacy: boolean\n}\n\nconst { useState, useReducer } = React\n\nconst formReducer = (state, event: IInputData) => {\n    return {\n        ...state,\n        [event.name]: event.value\n    }\n}\n\nconst RegistrationForm: React.FC<IRegistrationFormProps> = ({ sourceType, sourceId }) => {\n    const [ formData , setFormData] = useReducer(formReducer, {})\n    const [ submitting, setSubmitting ] = useState(false);\n    \n    const handleSubmit = event => {\n        event.preventDefault()\n        \n        setSubmitting(true)\n        console.log(formData)\n\n        setTimeout(() => {\n            setSubmitting(false)\n        }, 3000)\n    }\n\n    const handleChange = event => {\n        const isCheckbox = event.target.type === 'checkbox';\n        setFormData({\n            name: event.target.name,\n            value: isCheckbox ? event.target.checked : event.target.value,\n        })\n    }\n\n    return (\n        <div className=\"wrapper\">\n            { submitting && <p>Invio</p>}\n            <form onSubmit={handleSubmit}>\n                <input type=\"hidden\" name=\"source_type\" value={sourceType} />\n                <input type=\"hidden\" name=\"source_id\" value={sourceId} />\n                <fieldset disabled={submitting}>\n                    <label>\n                        <p>Nome</p>\n                        <input name=\"firstname\" onChange={handleChange} value={formData.firstname || ''}/>\n                    </label>\n                    <label>\n                        <p>Cognome</p>\n                        <input name=\"lastname\" onChange={handleChange} value={formData.lastname || ''} />\n                    </label>\n\n                    <label>\n                        <p>Email</p>\n                        <input name=\"email\" onChange={handleChange} value={formData.email || ''} />\n                    </label>\n\n                    <label>\n                        <p>Cellulare</p>\n                        <input name=\"phone\" onChange={handleChange} value={formData.phone || ''} />\n                    </label>\n                </fieldset>\n\n                <fieldset disabled={submitting}>\n                <label>\n                    <p>Indirizzo</p>\n                    <input name=\"address\" onChange={handleChange} value={formData.address || ''} />\n                </label>\n\n                <label>\n                    <p>Citt√†</p>\n                    <input name=\"city\" onChange={handleChange} value={formData.city || ''} />\n                </label>\n                </fieldset>\n\n                <label>\n                    <p>Ho letto e accetto l'<a href=\"\">Informativa Privacy</a> </p>\n                    <input type=\"checkbox\" name=\"privacy\" onChange={handleChange} checked={formData['privacy'] || false} />\n                </label>\n\n                <button disabled={submitting} type=\"submit\">Registrati</button>\n            </form>\n        </div>\n    )\n}\n\nconst App: React.FC<IRegistrationFormProps> = ({ sourceType = '', sourceId = '' }) => {\n  return <RegistrationForm sourceType={sourceType} sourceId={sourceId} />\n}\n\nexport default App"],"names":["React"],"mappings":"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"}